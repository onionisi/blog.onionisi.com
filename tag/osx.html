<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="utf-8">




    <meta name="author" content="Chong Yang">

    <title>onionisi - OSX</title>

        <link rel="stylesheet" href="http://www.onionisi.com/theme/css/style.min.css?981d7269">

    <link rel="shortcut icon" href="http://www.onionisi.com/theme/img/favicon.ico" />
    <link rel="icon" sizes="16x16 32x32" href="http://www.onionisi.com/theme/img/favicon.ico">



</head>

<body>
    <header id="sitehead">
        <div class="sitehead">
            <span id="sitehead">
                <a href="http://www.onionisi.com">onionisi</a>
            </span>
        </div>
            <div id="tagline">
                <strong>fprintf(post, "%s\n", daily_life)</strong>
            </div>
        <nav class="navbar">
                <a href="http://www.onionisi.com/category/blog.html">Blog</a>&nbsp;
                    <a href="http://www.onionisi.com/pages/about.html">About</a>&nbsp;
        </nav>
    </header><!-- /header-siteheader -->

                <aside id="featured">
                    <article>
                        <h1 class="entry-title"><a href="http://www.onionisi.com/osx-ipv6.html">OSX ipv6</a></h1>
                        <p>今天心血来潮想弄把IPv6，因为这PAC让部分网站抽风。不用说只能通过tunnel实现，我大西南地区向来就是敢为人后的代表。之前在Archlinux上配过aiccu和gogoc都挺好，两个都要自行去申请账号哦。其中gogoc需要时间同步，误差太大就连不上啦，之前折腾了半天，注意同步网络时间。</p>
<p>brew里没找见gogoc，直接就上aiccu了，得知需要tuntap依赖，其实就是内核扩展，这里就有个坑（主要是用Yosemite的同学）了，各位注意：<strong>tuntap的ext没法加载<sup id="fnref:1"><a class="footnote-ref" href="#fn:1" rel="footnote">1</a></sup>，console日志报错没有签名，10.10的不允许使用未签名kexts<sup id="fnref:2"><a class="footnote-ref" href="#fn:2" rel="footnote">2</a></sup>。</strong>解决方式如下：</p>
<ol>
<li>
<p>disable kext signing checks for everything, by doing <code>sudo nvram boot-args="kext-dev-mode=1"</code>and rebooting.</p>
</li>
<li>
<p>signed tun/tap.ext in the bundle of tunnelblick, just copy it to /Library/Extensions.</p>
</li>
</ol>
<p>1st我认为还是会有风险将影响整个系统内核的加载，虽然有盆友成功了。2nd还是安全无痛滴，先行安装tunnelblick，然后cp，一load就出现了/dev/tun0等装置。</p>
<p>毕竟是同根生，配置文件都没动，直接从dropbox down下来，<code>sudo aiccu start /path/config</code>，当当当当。。。我的ipv6地址：2401:e800:100:bb::2</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p><a href="https://github.com/Homebrew/homebrew/issues/31153">tuntap does not work on Yosemite 10.10</a>&#160;<a class="footnote-backref" href="#fnref:1" rev="footnote" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p><a href="https://github.com/Homebrew/homebrew/issues/31164">Unsigned kexts cannot be used on 10.10</a>&#160;<a class="footnote-backref" href="#fnref:2" rev="footnote" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
</ol>
</div>
<footer class="post-info">
    <abbr class="published" title="2014-08-14T00:00:00">
        Posted on 四 14 八月 2014 by Chong Yang |     tags: <a href="http://www.onionisi.com/tag/osx.html">OSX</a> <a href="http://www.onionisi.com/tag/network.html">network</a> <a href="http://www.onionisi.com/tag/ipv6.html">ipv6</a>     </abbr>
</footer><!-- /footer-post-info -->
                    </article>
                </aside><!-- /aside-featured -->
                    <section id="content">
                        <hr />
                        <ol id="posts-list">

                <li>
                    <article class="entry">
                        <header>
                            <h3 class="entry-title"><a href="http://www.onionisi.com/osx-launchd.html" rel="bookmark" title="Permalink to OSX Launchd">OSX Launchd</a></h3>
                            <aside class="entry-title-date">2014-07-21</aside>
                        </header>

                        <div class="entry-content">
                            <p>习惯了Linux下init，rc或者systemd的方式，来到Mac下想搞个启动项还是要费费脑子重新学习下除了鼠标点击的账户-&gt;登录项以及dock上的登陆时打开，毕竟总多的系统级别的程序是在launchd的统治下。</p>
<h3>文件</h3>
<p>cmd总是跟文件脱不了干系的，plist开始登场，下边是他存在的世界，摘自launchctl男人页：</p>
<div class="highlight"><pre>    <span class="o">~/</span><span class="n">Library</span><span class="o">/</span><span class="n">LaunchAgents</span>         <span class="n">Per</span><span class="o">-</span><span class="n">user</span> <span class="n">agents</span> <span class="n">provided</span> <span class="n">by</span> <span class="n">the</span> <span class="n">user</span><span class="p">.</span>
    <span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">LaunchAgents</span>          <span class="n">Per</span><span class="o">-</span><span class="n">user</span> <span class="n">agents</span> <span class="n">provided</span> <span class="n">by</span> <span class="n">the</span> <span class="n">administrator</span><span class="p">.</span>
    <span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">LaunchDaemons</span>         <span class="n">System</span> <span class="n">wide</span> <span class="n">daemons</span> <span class="n">provided</span> <span class="n">by</span> <span class="n">the</span> <span class="n">administrator</span><span class="p">.</span>
    <span class="o">/</span><span class="n">System</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">LaunchAgents</span>   <span class="n">OS</span> <span class="n">X</span> <span class="n">Per</span><span class="o">-</span><span class="n">user</span> <span class="n">agents</span><span class="p">.</span>
    <span class="o">/</span><span class="n">System</span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">LaunchDaemons</span>  <span class="n">OS</span> <span class="n">X ...</span></pre></div>
                        </div><!-- /dev-entry-content -->
                        <a class="jump" href="http://www.onionisi.com/osx-launchd.html">more</a>
                    </article>
                </li>

                <li>
                    <article class="entry">
                        <header>
                            <h3 class="entry-title"><a href="http://www.onionisi.com/taglist_failed.html" rel="bookmark" title="Permalink to Mac vim taglist failed">Mac vim taglist failed</a></h3>
                            <aside class="entry-title-date">2014-05-13</aside>
                        </header>

                        <div class="entry-content">
                            <p>vim的常规插件taglist报错了，妈蛋，没有你我怎么看C code</p>
<div class="highlight"><pre><span class="n">Taglist</span><span class="o">:</span> <span class="n">Failed</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">tags</span> <span class="k">for</span> <span class="sr">/Users/chong/code/redis-3.0-annotated/src/</span><span class="n">ae</span><span class="o">.</span><span class="na">c</span>
<span class="sr">/Library/Developer/CommandLineTools/usr/bin/</span><span class="n">ctags</span><span class="o">:</span> <span class="n">illegal</span> <span class="n">option</span> <span class="o">--</span> <span class="o">-^</span><span class="err">@</span><span class="n">usage</span><span class="o">:</span> <span class="n">ctags</span> <span class="o">[-</span><span class="n">BFadtuwvx</span><span class="o">]</span> <span class="o">[-</span><span class="n">f</span> <span class="n">tagsfile</span><span class="o">]</span> <span class="n">file</span> <span class="o">...^</span><span class="err">@</span>
</pre></div>


<p>出了问题习惯性先看源码，跑到taglist.vim里边找了一圈，4k多行，没有线索，只能发大招Google-fu了，顺带吐槽gfw。</p>
<p>taglist faq原文如下：</p>
<div class="highlight"><pre><span class="n">Q</span><span class="o">:</span><span class="n">Are</span> <span class="n">you</span> <span class="n">using</span> <span class="n">exuberant</span> <span class="n">ctags</span> <span class="n">version</span> <span class="mf">5.0 ...</span></pre></div>
                        </div><!-- /dev-entry-content -->
                        <a class="jump" href="http://www.onionisi.com/taglist_failed.html">more</a>
                    </article>
                </li>
                </ol><!-- /ol-posts-list -->
<div class="paginationer">
    <p class="paginator">
        Page 1 / 2
            <a href="http://www.onionisi.com/tag/osx2.html">&raquo;</a>
    </p>
</div>
                </section><!-- /section-content -->
    <section id="extras">
    </section><!-- /sectin-extras -->

    <footer id="footer">
        <address id="about" class="vcard">
            &copy; 2014 <a class="url fn" href="http://www.onionisi.com">onionisi</a>
        </address><!-- /address-about -->
    </footer><!-- /footer-footer -->


</body>
</html>
